"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[218],{355:function(e,t,a){a.d(t,{l:function(){return d}});var n=a(861),r=a(671),i=a(144),s=a(274),c=a(359),u=a(757),o=a.n(u),l=a(243);l.Z.defaults.baseURL="https://api.themoviedb.org/3/";var h=(0,c.Z)("API_KEY"),v=function(){function e(){(0,r.Z)(this,e),Object.defineProperty(this,h,{writable:!0,value:"9167ee7ecb36a9f774a46dedb9c5a8cc"}),this.BASE_URL="https://image.tmdb.org/t/p/w500",this.defaultImg="https://png.pngtree.com/png-vector/20200812/ourmid/pngtree-film-noir-set-clapperboard-png-image_2324477.jpg"}return(0,i.Z)(e,[{key:"getPopularMovies",value:function(){var e=(0,n.Z)(o().mark((function e(t){var a,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({api_key:(0,s.Z)(this,h)[h],page:t}),e.next=3,l.Z.get("trending/movie/day",{params:a});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieByQuery",value:function(){var e=(0,n.Z)(o().mark((function e(t,a){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({api_key:(0,s.Z)(this,h)[h],query:t,page:a,language:"en-US",include_adult:!1}),e.next=3,l.Z.get("/search/movie",{params:n});case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getMovieById",value:function(){var e=(0,n.Z)(o().mark((function e(t){var a,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({api_key:(0,s.Z)(this,h)[h],language:"en-US",include_adult:!1}),e.prev=1,e.next=4,l.Z.get("movie/".concat(t,"?").concat(a));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response||404!==e.t0.response.status){e.next=13;break}throw new Error("Oops, there is no movie with that name");case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieCast",value:function(){var e=(0,n.Z)(o().mark((function e(t){var a,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({api_key:(0,s.Z)(this,h)[h],language:"en-US"}),e.next=3,l.Z.get("movie/".concat(t,"/credits?").concat(a));case 3:return n=e.sent,r=n.data,e.abrupt("return",r.cast);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieReview",value:function(){var e=(0,n.Z)(o().mark((function e(t){var a,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({api_key:(0,s.Z)(this,h)[h],language:"en-US"}),e.next=3,l.Z.get("movie/".concat(t,"/reviews?").concat(a));case 3:return n=e.sent,r=n.data,e.abrupt("return",r.results);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),d=new v},218:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var n=a(439),r={div:"MovieDetail_div__MpCSw",back:"MovieDetail_back__dRSTz",img:"MovieDetail_img__iAq+5",name:"MovieDetail_name__55-Ke",title:"MovieDetail_title__koGTn",text:"MovieDetail_text__NfNIb",link:"MovieDetail_link__5HIlI"},i=a(791),s=a(689),c=a(87),u=a(525),o=a(355),l=a(184),h=function(){var e,t,a=(0,s.UO)().id,h=(0,i.useState)(null),v=(0,n.Z)(h,2),d=v[0],p=v[1],m=(0,s.TH)();if((0,i.useEffect)((function(){o.l.getMovieById(a).then(p)}),[a]),!d)return null;var f=d.poster_path,g=d.original_title,_=d.original_name,x=d.release_date,w=d.first_air_date,k=d.vote_average,j=d.genres,y=d.overview;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.OL,{to:null!==(e=null===(t=m.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",className:r.back,children:"Go back"}),(0,l.jsxs)("div",{className:r.div,children:[(0,l.jsx)("img",{className:r.img,src:f?"".concat(o.l.BASE_URL).concat(f):o.l.defaultImg,alt:g||_,width:"300"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:r.name,children:[g||_," (",x||w,")"]}),(0,l.jsxs)("p",{className:r.text,children:["User Score: ","".concat(Math.round(10*k),"%")]}),(0,l.jsx)("h3",{className:r.title,children:"Overview"}),(0,l.jsx)("p",{className:r.text,children:y}),(0,l.jsx)("h3",{children:"Genres"}),(0,l.jsx)("ul",{className:r.ul,children:j.map((function(e){return(0,l.jsx)("li",{className:r.text,style:{marginRight:"10px"},children:e.name},e.id)}))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:r.name,children:"Additional Information"}),(0,l.jsxs)("ul",{className:r.div,children:[(0,l.jsxs)("li",{children:[(0,l.jsx)(c.OL,{className:r.link,to:"cast",state:m.state,children:"Cast"})," "]}),(0,l.jsxs)("li",{children:[(0,l.jsx)(c.OL,{className:r.link,to:"reviews",state:m.state,children:"Reviews"})," "]})]})]}),(0,l.jsx)(i.Suspense,{fallback:(0,l.jsx)(u.a,{}),children:(0,l.jsx)(s.j3,{})})]})}}}]);
//# sourceMappingURL=218.ae6d43a5.chunk.js.map