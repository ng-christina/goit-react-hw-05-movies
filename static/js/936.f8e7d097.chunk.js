"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[936],{355:function(t,e,n){n.d(e,{l:function(){return f}});var r=n(861),a=n(671),u=n(144),i=n(274),s=n(359),c=n(757),o=n.n(c),p=n(243);p.Z.defaults.baseURL="https://api.themoviedb.org/3/";var l=(0,s.Z)("API_KEY"),h=function(){function t(){(0,a.Z)(this,t),Object.defineProperty(this,l,{writable:!0,value:"9167ee7ecb36a9f774a46dedb9c5a8cc"}),this.BASE_URL="https://image.tmdb.org/t/p/w500",this.defaultImg="https://png.pngtree.com/png-vector/20200812/ourmid/pngtree-film-noir-set-clapperboard-png-image_2324477.jpg"}return(0,u.Z)(t,[{key:"getPopularMovies",value:function(){var t=(0,r.Z)(o().mark((function t(e){var n,r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],page:e}),t.next=3,p.Z.get("trending/movie/day",{params:n});case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getMovieByQuery",value:function(){var t=(0,r.Z)(o().mark((function t(e,n){var r,a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],query:e,page:n,language:"en-US",include_adult:!1}),t.next=3,p.Z.get("/search/movie",{params:r});case 3:return a=t.sent,u=a.data,t.abrupt("return",u);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getMovieById",value:function(){var t=(0,r.Z)(o().mark((function t(e){var n,r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],language:"en-US",include_adult:!1}),t.prev=1,t.next=4,p.Z.get("movie/".concat(e,"?").concat(n));case 4:return r=t.sent,a=r.data,t.abrupt("return",a);case 9:if(t.prev=9,t.t0=t.catch(1),!t.t0.response||404!==t.t0.response.status){t.next=13;break}throw new Error("Oops, there is no movie with that name");case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getMovieCast",value:function(){var t=(0,r.Z)(o().mark((function t(e){var n,r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],language:"en-US"}),t.next=3,p.Z.get("movie/".concat(e,"/credits?").concat(n));case 3:return r=t.sent,a=r.data,t.abrupt("return",a.cast);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getMovieReview",value:function(){var t=(0,r.Z)(o().mark((function t(e){var n,r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],language:"en-US"}),t.next=3,p.Z.get("movie/".concat(e,"/reviews?").concat(n));case 3:return r=t.sent,a=r.data,t.abrupt("return",a.results);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),f=new h},894:function(t,e,n){n.d(e,{u:function(){return i}});var r="Button_btnContainer__MuD9z",a="Button_button__wiIYs",u=n(184),i=function(t){var e=t.onBtnClick;return(0,u.jsx)("div",{className:r,children:(0,u.jsx)("button",{className:a,type:"button",onClick:e,children:"Load more"})})}},569:function(t,e,n){n.d(e,{Q:function(){return s}});var r=n(689),a=n(87),u=n(355),i=n(184),s=function(t){var e=t.movies,n=(0,r.TH)();return(0,i.jsx)("ul",{children:e.map((function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")}),"")}();return(0,i.jsxs)("li",{children:[(0,i.jsxs)("p",{children:[t.title," ",(0,i.jsx)("span",{children:t.vote_average.toFixed(2)})]}),(0,i.jsx)(a.rU,{to:"/movies/".concat(t.id),state:{from:n},children:(0,i.jsx)("img",{src:t.poster_path?"".concat(u.l.BASE_URL).concat(t.poster_path):u.l.defaultImg,alt:t.title,width:"200"})})]},e)}))})}},936:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=n(433),a=n(439),u={},i=n(791),s=n(894),c=n(355),o=n(569),p=n(184),l=function(){var t=(0,i.useState)([]),e=(0,a.Z)(t,2),n=e[0],l=e[1],h=(0,i.useState)(1),f=(0,a.Z)(h,2),v=f[0],d=f[1],g=(0,i.useState)(null),m=(0,a.Z)(g,2),w=m[0],_=m[1];(0,i.useEffect)((function(){c.l.getPopularMovies(v).then((function(t){l((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t.results))})),_(t.total_results)}))}),[v]);return(0,p.jsxs)("main",{children:[(0,p.jsx)("h2",{className:u.trendTitle,children:"Trending today "}),(0,p.jsx)(o.Q,{movies:n}),w/20>=v&&(0,p.jsx)(s.u,{text:"Load more",status:"search",onClick:function(){d((function(t){return t+1}))}})]})}}}]);
//# sourceMappingURL=936.f8e7d097.chunk.js.map