"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[76],{355:function(e,t,r){r.d(t,{l:function(){return f}});var a=r(861),n=r(671),s=r(144),i=r(274),c=r(359),u=r(757),o=r.n(u),p=r(243);p.Z.defaults.baseURL="https://api.themoviedb.org/3/";var l=(0,c.Z)("API_KEY"),h=function(){function e(){(0,n.Z)(this,e),Object.defineProperty(this,l,{writable:!0,value:"9167ee7ecb36a9f774a46dedb9c5a8cc"}),this.BASE_URL="https://image.tmdb.org/t/p/w500",this.defaultImg="https://png.pngtree.com/png-vector/20200812/ourmid/pngtree-film-noir-set-clapperboard-png-image_2324477.jpg"}return(0,s.Z)(e,[{key:"getPopularMovies",value:function(){var e=(0,a.Z)(o().mark((function e(t){var r,a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],page:t}),e.next=3,p.Z.get("trending/movie/day",{params:r});case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieByQuery",value:function(){var e=(0,a.Z)(o().mark((function e(t,r){var a,n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],query:t,page:r,language:"en-US",include_adult:!1}),e.next=3,p.Z.get("/search/movie",{params:a});case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getMovieById",value:function(){var e=(0,a.Z)(o().mark((function e(t){var r,a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],language:"en-US",include_adult:!1}),e.prev=1,e.next=4,p.Z.get("movie/".concat(t,"?").concat(r));case 4:return a=e.sent,n=a.data,e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response||404!==e.t0.response.status){e.next=13;break}throw new Error("Oops, there is no movie with that name");case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieCast",value:function(){var e=(0,a.Z)(o().mark((function e(t){var r,a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],language:"en-US"}),e.next=3,p.Z.get("movie/".concat(t,"/credits?").concat(r));case 3:return a=e.sent,n=a.data,e.abrupt("return",n.cast);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieReview",value:function(){var e=(0,a.Z)(o().mark((function e(t){var r,a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:(0,i.Z)(this,l)[l],language:"en-US"}),e.next=3,p.Z.get("movie/".concat(t,"/reviews?").concat(r));case 3:return a=e.sent,n=a.data,e.abrupt("return",n.results);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),f=new h},76:function(e,t,r){r.r(t),r.d(t,{default:function(){return o}});var a=r(439),n=r(791),s=r(355),i=r(689),c={div:"Cast_div__PH4d5",ul:"Cast_ul__qE-tu",img:"Cast_img__-isbW",description:"Cast_description__uN0VA",name:"Cast_name__6UbFm"},u=r(184),o=function(){var e=(0,i.UO)().id,t=(0,n.useState)([]),r=(0,a.Z)(t,2),o=r[0],p=r[1];return(0,n.useEffect)((function(){s.l.getMovieCast(e).then(p)}),[e]),0===o.length?(0,u.jsx)("p",{children:"No cast info available for this movie"}):(0,u.jsx)("div",{className:c.div,children:(0,u.jsx)("ul",{className:c.ul,children:o.map((function(e){return(0,u.jsx)("li",{className:c.li,children:(0,u.jsxs)("figure",{className:c.figure,children:[(0,u.jsx)("img",{src:e.profile_path?"".concat(s.l.BASE_URL).concat(e.profile_path):s.l.defaultImg,alt:e.name,className:c.img}),(0,u.jsxs)("figcaption",{className:c.description,children:[(0,u.jsx)("p",{className:c.name,children:e.name}),(0,u.jsxs)("p",{className:c.character,children:["Character: ",e.character]})]})]})},e.id)}))})})}}}]);
//# sourceMappingURL=76.2e6cc58b.chunk.js.map