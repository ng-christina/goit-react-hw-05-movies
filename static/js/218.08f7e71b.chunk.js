"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[218],{355:function(e,t,r){r.d(t,{l:function(){return d}});var n=r(861),a=r(671),s=r(144),i=r(274),c=r(359),u=r(757),o=r.n(u),l=r(243);l.Z.defaults.baseURL="https://api.themoviedb.org/3/";var h=(0,c.Z)("API_KEY"),p=function(){function e(){(0,a.Z)(this,e),Object.defineProperty(this,h,{writable:!0,value:"9167ee7ecb36a9f774a46dedb9c5a8cc"}),this.BASE_URL="https://image.tmdb.org/t/p/w500",this.defaultImg="https://png.pngtree.com/png-vector/20200812/ourmid/pngtree-film-noir-set-clapperboard-png-image_2324477.jpg"}return(0,s.Z)(e,[{key:"getPopularMovies",value:function(){var e=(0,n.Z)(o().mark((function e(t){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:(0,i.Z)(this,h)[h],page:t}),e.next=3,l.Z.get("trending/movie/day",{params:r});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieByQuery",value:function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({api_key:(0,i.Z)(this,h)[h],query:t,page:r,language:"en-US",include_adult:!1}),e.next=3,l.Z.get("/search/movie",{params:n});case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getMovieById",value:function(){var e=(0,n.Z)(o().mark((function e(t){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:(0,i.Z)(this,h)[h],language:"en-US",include_adult:!1}),e.prev=1,e.next=4,l.Z.get("movie/".concat(t,"?").concat(r));case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response||404!==e.t0.response.status){e.next=13;break}throw new Error("Oops, there is no movie with that name");case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieCast",value:function(){var e=(0,n.Z)(o().mark((function e(t){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:(0,i.Z)(this,h)[h],language:"en-US"}),e.next=3,l.Z.get("movie/".concat(t,"/credits?").concat(r));case 3:return n=e.sent,a=n.data,e.abrupt("return",a.cast);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieReview",value:function(){var e=(0,n.Z)(o().mark((function e(t){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:(0,i.Z)(this,h)[h],language:"en-US"}),e.next=3,l.Z.get("movie/".concat(t,"/reviews?").concat(r));case 3:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),d=new p},218:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(439),a={},s=r(791),i=r(689),c=r(87),u=r(525),o=r(355),l=r(184),h=function(){var e,t,r=(0,i.UO)().id,h=(0,s.useState)(null),p=(0,n.Z)(h,2),d=p[0],v=p[1],f=(0,i.TH)();if((0,s.useEffect)((function(){o.l.getMovieById(r).then(v)}),[r]),!d)return null;var m=d.poster_path,g=d.original_title,w=d.original_name,x=d.release_date,j=d.first_air_date,_=d.vote_average,k=d.genres,y=d.overview;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)(c.OL,{to:null!==(e=null===(t=f.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",className:a.back,children:"Go back"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{className:a.img,src:m?"".concat(o.l.BASE_URL).concat(m):o.l.defaultImg,alt:g||w,width:"300"}),(0,l.jsxs)("div",{className:a.div,children:[(0,l.jsxs)("h2",{className:a.name,children:[g||w," (",x||j,")"]}),(0,l.jsxs)("p",{children:["User Score: ","".concat(Math.round(10*_),"%")]}),(0,l.jsx)("h3",{className:a.overviewTitle,children:"Overview"}),(0,l.jsx)("p",{className:a.overview,children:y}),(0,l.jsx)("h3",{children:"Genres"}),(0,l.jsx)("ul",{className:a.ul,children:k.map((function(e){return(0,l.jsx)("li",{style:{marginRight:"10px"},children:e.name},e.id)}))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:a.info,children:"Additional Information"}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)(c.OL,{to:"cast",state:f.state,children:"Cast"})," "]}),(0,l.jsxs)("li",{children:[(0,l.jsx)(c.OL,{to:"reviews",state:f.state,children:"Reviews"})," "]})]})]}),(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)(u.a,{}),children:(0,l.jsx)(i.j3,{})})]})}}}]);
//# sourceMappingURL=218.08f7e71b.chunk.js.map