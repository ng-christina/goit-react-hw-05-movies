{"version":3,"file":"static/js/498.336aded8.chunk.js","mappings":"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","sources":["Api.js","webpack://goit-react-hw-05-movies/./src/components/MovieL/MovieL.module.css?6ea4","components/MovieL/MovieL.jsx","../node_modules/nanoid/index.browser.js","webpack://goit-react-hw-05-movies/./src/pages/Home/Home.module.css?1370","webpack://goit-react-hw-05-movies/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","pages/Home/Home.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = `https://api.themoviedb.org/3/`;\nconst KEY = '9167ee7ecb36a9f774a46dedb9c5a8cc';\n\nexport class ApiMovies {\n  #API_KEY = KEY;\n\n  constructor() {\n    this.BASE_URL = 'https://image.tmdb.org/t/p/w500';\n    this.defaultImg =\n      'https://png.pngtree.com/png-vector/20200812/ourmid/pngtree-film-noir-set-clapperboard-png-image_2324477.jpg';\n  }\n\n  async getPopularMovies(page) {\n    const params = new URLSearchParams({\n      api_key: this.#API_KEY,\n      page: page,\n    });\n\n    const { data } = await axios.get('trending/movie/day', { params });\n    return data;\n  }\n\n  async getMovieByQuery(query, page) {\n    const params = new URLSearchParams({\n      api_key: this.#API_KEY,\n      query: query,\n      page: page,\n      language: 'en-US',\n      include_adult: false,\n    });\n\n    const { data } = await axios.get('/search/movie', { params });\n    return data;\n  }\n\n  async getMovieById(id) {\n    const params = new URLSearchParams({\n      api_key: this.#API_KEY,\n      language: 'en-US',\n      include_adult: false,\n    });\n\n    try {\n      const { data } = await axios.get(`movie/${id}?${params}`);\n      return data;\n    } catch (error) {\n      if (error.response && error.response.status === 404) {\n        throw new Error('Oops, there is no movie with that name');\n      }\n      throw error;\n    }\n  }\n\n  async getMovieCast(id) {\n    const params = new URLSearchParams({\n      api_key: this.#API_KEY,\n      language: 'en-US',\n    });\n    const { data } = await axios.get(`movie/${id}/credits?${params}`);\n    return data.cast;\n  }\n\n  async getMovieReview(id) {\n    const params = new URLSearchParams({\n      api_key: this.#API_KEY,\n      language: 'en-US',\n    });\n    const { data } = await axios.get(`movie/${id}/reviews?${params}`);\n    return data.results;\n  }\n}\n\nexport const ApiMoviesService = new ApiMovies();\n","// extracted by mini-css-extract-plugin\nexport default {\"ul\":\"MovieL_ul__6PWdY\",\"li\":\"MovieL_li__Uv8sA\",\"p\":\"MovieL_p__qcCND\",\"img\":\"MovieL_img__I+V8m\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { ApiMoviesService } from '../../Api';\nimport { nanoid } from 'nanoid';\nimport style from './MovieL.module.css';\n\nexport const MovieL = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={style.ul}>\n      {movies.map(movie => {\n        const movieId = nanoid();\n        return (\n          <li className={style.li} key={movieId}>\n            <p className={style.p}>\n              {movie.title} <span>{movie.vote_average.toFixed(2)}</span>\n            </p>\n            <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n              <img\n                className={style.img}\n                src={\n                  movie.poster_path\n                    ? `${ApiMoviesService.BASE_URL}${movie.poster_path}`\n                    : ApiMoviesService.defaultImg\n                }\n                alt={movie.title}\n                width=\"200\"\n              />\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nMovieL.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","// extracted by mini-css-extract-plugin\nexport default {\"maine\":\"Home_maine__9o+BZ\",\"trendTitle\":\"Home_trendTitle__iQjw2\",\"glow\":\"Home_glow__u8IKt\"};","// extracted by mini-css-extract-plugin\nexport default {\"btnContainer\":\"Button_btnContainer__MuD9z\",\"button\":\"Button_button__wiIYs\"};","import PropTypes from 'prop-types';\nimport style from './Button.module.css';\n\nexport const Btn = ({ onBtnClick }) => {\n  return (\n    <div className={style.btnContainer}>\n      <button className={style.button} type=\"button\" onClick={onBtnClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nBtn.propTypes = {\n  onButtonClick: PropTypes.func,\n};\n","import style from './Home.module.css';\nimport { useState, useEffect } from 'react';\nimport { Btn } from 'components/Button/Button';\nimport { ApiMoviesService } from 'Api';\nimport { MovieL } from 'components/MovieL/MovieL';\n\n// const Home = () => {\n//   const [movies, setMovies] = useState([]);\n//   const [page, setPage] = useState(1);\n//   const [total_results, setTotalResults] = useState(null);\n\n//   const loadMovies = pageNumber => {\n//     ApiMoviesService.getPopularMovies(pageNumber).then(data => {\n//       setMovies(prevMovies => [...prevMovies, ...data.results]);\n//       setTotalResults(data.total_results);\n//     });\n//   };\n\n//   const handleScroll = () => {\n//     if (\n//       window.innerHeight + document.documentElement.scrollTop ===\n//       document.documentElement.offsetHeight\n//     ) {\n//       if (total_results / 20 >= page) {\n//         setPage(prevPage => prevPage + 1);\n//       }\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadMovies(page);\n//     window.addEventListener('scroll', handleScroll);\n//     return () => {\n//       window.removeEventListener('scroll', handleScroll);\n//     };\n//   }, [page]);\n\n//   return (\n//     <main className={style.maine}>\n//       <h2 className={style.trendTitle}>Trending today </h2>\n//       <MovieL movies={movies} />\n//     </main>\n//   );\n// };\n\n// export default Home;\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [total_results, setTotalResults] = useState(null);\n\n  useEffect(() => {\n    ApiMoviesService.getPopularMovies(page).then(data => {\n      setMovies(movies => [...movies, ...data.results]);\n      setTotalResults(data.total_results);\n    });\n  }, [page]);\n\n  const loadMore = () => {\n    setPage(page => page + 1);\n  };\n\n  return (\n    <main className={style.maine}>\n      <h2 className={style.trendTitle}>Trending today </h2>\n      <MovieL movies={movies} />\n      {total_results / 20 >= page && (\n        <Btn text=\"Load more\" status=\"search\" onClick={loadMore} />\n      )}\n    </main>\n  );\n};\n\nexport default Home;\n"],"names":["axios","ApiMovies","this","BASE_URL","defaultImg","page","params","URLSearchParams","api_key","data","query","language","include_adult","id","response","status","Error","cast","results","ApiMoviesService","MovieL","movies","location","useLocation","className","style","map","movie","movieId","size","crypto","getRandomValues","Uint8Array","reduce","byte","toString","toUpperCase","nanoid","title","vote_average","toFixed","to","state","from","src","poster_path","alt","width","Btn","onBtnClick","type","onClick","useState","setMovies","setPage","total_results","setTotalResults","useEffect","then","text"],"sourceRoot":""}